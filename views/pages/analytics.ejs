<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body class="bg-[#0F172A] text-slate-200 min-h-screen flex">
    <%- include('../partials/sidebar') %>
    <main class="ml-64 flex-1 p-10">
        <h1 class="text-3xl font-bold mb-8">Performance Analytics</h1>
        
        <div class="grid grid-cols-4 gap-6 mb-10">
            <div class="bg-slate-900 border border-slate-800 p-6 rounded-2xl">
                <p class="text-slate-500 text-xs uppercase font-bold mb-2">Total Ideas</p>
                <h3 class="text-4xl font-bold text-blue-500"><%= stats.ideaCount %></h3>
            </div>
            <div class="bg-slate-900 border border-slate-800 p-6 rounded-2xl">
                <p class="text-slate-500 text-xs uppercase font-bold mb-2">Total Views</p>
                <h3 class="text-4xl font-bold text-purple-500"><%= stats.totalViews %></h3>
            </div>
            <div class="bg-slate-900 border border-slate-800 p-6 rounded-2xl">
                <p class="text-slate-500 text-xs uppercase font-bold mb-2">Total Upvotes</p>
                <h3 class="text-4xl font-bold text-green-500"><%= stats.totalUpvotes %></h3>
            </div>
            <div class="bg-slate-900 border border-slate-800 p-6 rounded-2xl">
                <p class="text-slate-500 text-xs uppercase font-bold mb-2">Engagements</p>
                <h3 class="text-4xl font-bold text-yellow-500"><%= stats.totalComments %></h3>
            </div>
        </div>

        <h2 class="text-xl font-bold mb-6">Your Top Performers</h2>
        <div class="grid grid-cols-2 gap-6">
            <% ideas.forEach(idea => { %>
                <div class="bg-slate-900 border border-slate-800 p-5 rounded-xl flex justify-between items-center">
                    <div>
                        <h4 class="font-bold mb-1"><%= idea.title %></h4>
                        <span class="text-xs text-slate-500"><%= idea.category %> â€¢ <%= new Date(idea.createdAt).toLocaleDateString() %></span>
                    </div>
                    <div class="text-right">
                        <span class="block font-bold text-blue-400"><%= idea.views %> Views</span>
                        <span class="text-xs text-slate-500"><%= idea.upvotes.length %> Upvotes</span>
                    </div>
                </div>
            <% }) %>
        </div>
    </main>
</body>
</html>